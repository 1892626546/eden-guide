<div class="modal fade" id="item-tree-modal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLongTitle" aria-hidden="true">
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title text-center col-12"></h5>
      </div>
      <div class="modal-body">
        <div id="item-tree" style="width:100%;height:500px"></div>    
      </div>
    </div>
  </div>
</div>

<style>
  .node { 
    padding: 0 2px;
    min-width: 60px;
    text-align: center;
    height: 30px;
    background: #fff; 
  }

  .node.node-name {
    line-height: 30px;
    color: #9B9B9B;
  }
</style>

<script>
  var simple_chart_config = {
        chart: {
            container: "#item-tree",
            rootOrientation: "EAST",
            nodeAlign: "BOTTOM",
            connectors: {
              type: "step",
              style: {
                "stroke-width": 2
              }
            },
            levelSeparation:    45,
        },
        nodeStructure: null
    };

    $('#item-tree-modal').on('shown.bs.modal', function (event) {
      var button = $(event.relatedTarget) // Button that triggered the modal
      var item = button.data('item') // Extract info from data-* attributes
      simple_chart_config.nodeStructure = getItemTree(item);
      item = items[item];
      var modal = $(this);
      modal.find(".modal-title").html(`${translate("Build Tree for")} <span class = '${item.color}'>${item.label}</span>`)
      new Treant(simple_chart_config);
      $('#item-tree-modal').find(".item-tooltip").tooltip({container: $('#item-tree-modal'), placement: "bottom"});
    })

    $(".item-tooltip").tooltip({placement: "bottom"});
</script>
